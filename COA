#!/bin/sh

#y为行，x为列
#linux中2列的像素等于1行的像素

che_x=15  #列----
che_y=30  #行|
speed_x=0
speed_y=0

shang()
{
#clear
#jiemian
#speed_x=`expr $speed_x + 1`
let speed_x--
#echo -e "\033[${che_x};${che_y}H 🚗 \033[0m"
}
xia()
{
#clear
#jiemian
#speed_x=`expr $speed_x - 1`
let speed_x++
#echo -e "\033["41"m\033[${che_x};${che_y}H  \033[0m"
#echo -e "\033[${che_x};${che_y}H 🚗 \033[0m"
}
zuo()
{
#clear
#jiemian
#speed_y=`expr $speed_y + 1`
let speed_y--
#echo -e "\033[${che_x};${che_y}H 🚗 \033[0m"
#echo -e "\033["41"m\033[${che_x};${che_y}H  \033[0m"
}
you()
{
#clear
#jiemian
#speed_y=`expr $speed_y - 1`
let speed_y++
#echo -e "\033[${che_x};${che_y}H 🚗 \033[0m"
#echo -e "\033["41"m\033[${che_x};${che_y}H  \033[0m"
}
move_x()
{
clear
jiemian
che_x=`expr $che_x + $speed_x`
echo -e "\033[${che_x};${che_y}H 🚗 \033[0m"
#echo -e "\033["41"m\033[${che_x};${che_y}H  \033[0m"
}
move_y()
{
clear
jiemian
che_y=`expr $che_y + $speed_y`
echo -e "\033[${che_x};${che_y}H 🚗 \033[0m"
#echo -e "\033["41"m\033[${che_x};${che_y}H  \033[0m"
}
che_ting()
{
echo -e "\033[?25h"    #显示光标
stty echo    #显示输出内容
exit
}
panduan()
{
if [[ $che_x -lt 3 || $che_x -gt 47 || $che_y -lt 2 || $che_y -gt 192 ]];then
che_ting
fi
}



jiemian()
{
clear
echo -e -n "
🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧                                                                                                                                                                                              🚧
🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧🚧"
}

echo -e "\033[?25l" #隐藏光标
stty -echo #隐藏输入
clear
jiemian
#echo -e "\033["41"m\033[${che_x};${che_y}H  \033[0m" #先显示一遍小点
echo -e "\033[${che_x};${che_y}H 🚗 \033[0m"
while [ 1 ]
do
sleep 0.1
move_x
move_y
while :
read -s -n 1 a
if [[ $a == "w" ]];then
shang
panduan
break
elif [[ $a == "s" ]];then
xia
panduan
break
elif [[ $a == "a" ]];then
zuo
panduan
break
elif [[ $a == "d" ]];then
you
panduan
break
elif [[ $a == "p" ]];then
che_ting
panduan
fi
done
done
